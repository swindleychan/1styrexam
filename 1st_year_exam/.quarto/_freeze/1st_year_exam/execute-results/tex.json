{
  "hash": "be64e64be507d66df8de04702fa6facf",
  "result": {
    "markdown": "---\ntitle: \"1st Year Bioinformatics Exam\"\nauthor: \"Jennifer Swindlehurst Chan\"\nformat: pdf\neditor: visual\n---\n\n---\nName: Jennifer Swindlehurst Chan\n\nPID: 12415558\n\n## Covid Variant Data\n\nFrom the California Health and Human Services (CHHS) open data site.\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(knitr)\nopts_chunk$set(tidy.opts=list(width.cutoff=60),tidy=TRUE)\n```\n:::\n\n\nFirst. we load in all the packages we will use. I ended up not using lubridate.\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(lubridate)\nlibrary(dplyr)\n```\n:::\n\nNext, we upload the csv file with the data will be plotting. We can use the head() function to take a peak at what our data looks like.\n\n::: {.cell}\n\n```{.r .cell-code}\ndata <- read.csv(\"covid19_variants.csv\")\nhead(data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n        date       area area_type variant_name specimens percentage\n1 2021-01-01 California     State        Alpha         1       1.67\n2 2021-01-01 California     State        Other        29      48.33\n3 2021-01-01 California     State        Delta         0       0.00\n4 2021-01-01 California     State        Gamma         0       0.00\n5 2021-01-01 California     State      Omicron         1       1.67\n6 2021-01-01 California     State        Total        60     100.00\n  specimens_7d_avg percentage_7d_avg\n1               NA                NA\n2               NA                NA\n3               NA                NA\n4               NA                NA\n5               NA                NA\n6               NA                NA\n```\n:::\n:::\n\nNext, we can start to filter for what we want included. We only want the data relating to variants Alpha, Beta, Delta, Epsilon, Gamma, Lambda, Mu, and Omicron. We do not want Total or Other. This subsection of the data is now saved at data_2. We can also work with the date of each measurement easier by using the as.Date function. The example graph only plots until May 2022 so we can take our data_2 and section it out further to be the data from the beginning of the data set (January 1, 2021) until May 1, 2022. This is now saved as data_3. We can use the tail() function to check that the data is cut off at May 1, 2022.\n\n::: {.cell}\n\n```{.r .cell-code}\ndata$date <- as.Date(data$date)\ndata_2 <- dplyr::filter(data, variant_name %in% c(\"Alpha\", \"Beta\",\n    \"Delta\", \"Epsilon\", \"Gamma\", \"Lambda\", \"Mu\", \"Omicron\"))\ndata_3 <- data_2[data_2$date >= \"2021-01-01\" & data_2$date <=\n    \"2022-05-01\", ]\n\nhead(data_2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n        date       area area_type variant_name specimens percentage\n1 2021-01-01 California     State        Alpha         1       1.67\n2 2021-01-01 California     State        Delta         0       0.00\n3 2021-01-01 California     State        Gamma         0       0.00\n4 2021-01-01 California     State      Omicron         1       1.67\n5 2021-01-01 California     State         Beta         0       0.00\n6 2021-01-01 California     State       Lambda         0       0.00\n  specimens_7d_avg percentage_7d_avg\n1               NA                NA\n2               NA                NA\n3               NA                NA\n4               NA                NA\n5               NA                NA\n6               NA                NA\n```\n:::\n\n```{.r .cell-code}\ntail(data_3)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n           date       area area_type variant_name specimens percentage\n3883 2022-05-01 California     State         Beta         0        0.0\n3884 2022-05-01 California     State        Gamma         0        0.0\n3885 2022-05-01 California     State      Epsilon         0        0.0\n3886 2022-05-01 California     State        Alpha         0        0.0\n3887 2022-05-01 California     State      Omicron       492       98.4\n3888 2022-05-01 California     State           Mu         0        0.0\n     specimens_7d_avg percentage_7d_avg\n3883           0.0000           0.00000\n3884           0.0000           0.00000\n3885           0.0000           0.00000\n3886           0.0000           0.00000\n3887         649.2857          98.37662\n3888           0.0000           0.00000\n```\n:::\n:::\n\nNow we can plot. Below is what the original data looked like plotted. Here, we still have the Other and Total. The data is color coordinated based on variant name information. The percentage of the variant (y-axis) is plotted across time (x-axis). This is also a generally basic plot that needs some polishing.\n\n::: {.cell}\n\n```{.r .cell-code}\nplot <- ggplot(data) + aes(date, percentage, color = variant_name) +\n    geom_line() + labs(title = \"Title\")\n\nplot\n```\n\n::: {.cell-output-display}\n![](1st_year_exam_files/figure-pdf/unnamed-chunk-5-1.pdf){fig-pos='H'}\n:::\n:::\n\nThis second plot is of data_2 which has gotten rid of Other and Total. I also added a title, a y-axis label, and got rid of the color legend label.\n\n::: {.cell}\n\n```{.r .cell-code}\nplot <- ggplot(data_2) + aes(date, percentage, color = variant_name) +\n    geom_line() + labs(title = \"Covid-19 Variants in California\",\n    y = \"Percentage of Sequenced Specimens\", color = NULL)\n\nplot\n```\n\n::: {.cell-output-display}\n![](1st_year_exam_files/figure-pdf/unnamed-chunk-6-1.pdf){fig-pos='H'}\n:::\n:::\n\nThis third and final graph plots our data_3 which is just the variants we want to plot (from data_2) as well as cut off at a certain time (until May 2022). The graph is further polished to look like the example by having the bw theme. The x-axis has the month and year for each tick mark, labelled 1 month apart, with the labels set at a 45 degree angle and adjusted appropriately. \n\n::: {.cell}\n\n```{.r .cell-code}\nplot <- ggplot(data_3) + aes(date, percentage, color = variant_name) +\n    geom_line() + labs(title = \"Covid-19 Variants in California\",\n    y = \"Percentage of Sequenced Specimens\", color = NULL) +\n    theme_bw()\n\nplot + theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n    scale_x_date(name = NULL, date_breaks = \"1 month\", date_labels = \"%b %Y\")\n```\n\n::: {.cell-output-display}\n![](1st_year_exam_files/figure-pdf/unnamed-chunk-7-1.pdf){fig-pos='H'}\n:::\n:::\n",
    "supporting": [
      "1st_year_exam_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}